<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Chatbot</title>
        <style>
            <!--
                                                     ______
                Finish customizing chatbot, Atabek! |・`ω´・|

            -->
        </style>
    </head>
    <body>
        <div class="chat-container">
            <div class="chat-history">
                <div class="chat-message user-message">
                    You:
                    <input id="user-input" type="text" onkeyup="handleUserInput()" />
                </div>
                <div class="chat-message chatbot-message" id="chatbot-response">
                    Chatbot:
                </div>
            </div>
        </div>

        <script>
            function handleUserInput() {
                if (event.key === 'Enter') {
                    const userInput = document.getElementById('user-input').value;
                    document.getElementById('user-input').value = '';

                    // Send the user input to the server
                    fetch('/chat', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ user_input: userInput })
                    })
                    .then(response => response.json())
                    .then(data => {
                        document.getElementById('chatbot-response').innerText = `Chatbot: ${data.chatbot_response}`;
                    });
                }
            }
        </script>
    </body>
</html>
